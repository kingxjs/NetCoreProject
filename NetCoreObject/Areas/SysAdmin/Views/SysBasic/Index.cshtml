@using NetCoreObject.Common
@model SysBasicConfig
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/include/_Layout.cshtml";
}
<style>
    .layui-form-label {
        width: 120px
    }

    .layui-form-item .layui-input-inline {
        width: 300px;
        margin-left: 10px;
    }

    .layui-input-block {
        margin-left: 160px;
    }
</style>
<div style="padding: 20px;">
    <form class="layui-form" id="forms" lay-filter="userForm">
        <div class="layui-tab layui-tab-brief" lay-filter="docDemoTabBrief">
            <ul class="layui-tab-title">
                <li class="layui-this" lay-id="11">邮件发送设置</li>
                <li lay-id="22">文件上传设置</li>
                <li lay-id="33">短信平台设置</li>
            </ul>
            <div class="layui-tab-content" style="padding-top:30px">
                <div class="layui-tab-item layui-show">
                    <div class="layui-form-item">
                        <label for="emailsmtp" class="layui-form-label">
                            STMP服务器
                        </label>
                        <div class="layui-input-inline">
                            <input type="text" id="emailsmtp" name="emailsmtp" placeholder="发送邮件的SMTP服务器地址"
                                   autocomplete="off" class="layui-input layer-tips" value="@Model.emailsmtp">
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label for="emailport" class="layui-form-label">
                            SMTP端口
                        </label>
                        <div class="layui-input-inline">
                            <input type="text" id="emailport" name="emailport" placeholder="SMTP端口"
                                   autocomplete="off" class="layui-input layer-tips" value="@Model.emailport">
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label for="emailssl" class="layui-form-label">
                            邮件SSL
                        </label>
                        <div class="layui-input-block ">
                            <input type="checkbox" class="layer-tips" name="emailssl" id="emailssl" lay-skin="switch" lay-text="ON|OFF" @(Model.emailssl ? "checked" : "")>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label for="emailfrom" class="layui-form-label">
                            发件人地址
                        </label>
                        <div class="layui-input-inline">
                            <input type="text" id="emailfrom" name="emailfrom" placeholder="发件人地址"
                                   autocomplete="off" class="layui-input layer-tips" value="@Model.emailfrom">
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label for="emailusername" class="layui-form-label">
                            邮箱账号
                        </label>
                        <div class="layui-input-inline">
                            <input type="text" id="emailusername" name="emailusername" placeholder="邮箱账号"
                                   autocomplete="off" class="layui-input layer-tips" value="@Model.emailusername">
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label for="emailpassword" class="layui-form-label">
                            邮箱密码
                        </label>
                        <div class="layui-input-inline">
                            <input type="text" id="emailpassword" name="emailpassword" placeholder="邮箱密码，不填则不修改"
                                   autocomplete="off" class="layui-input layer-tips" value="">
                        </div>
                    </div>
                </div>
                <div class="layui-tab-item">
                    <div class="layui-form-item">
                        <label for="filepath" class="layui-form-label">
                            附件上传目录
                        </label>
                        <div class="layui-input-block">
                            <input type="text" id="filepath" name="filepath" placeholder="附件上传目录"
                                   autocomplete="off" class="layui-input layer-tips" value="@Model.filepath">
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label for="filesave" class="layui-form-label">
                            附件保存方式
                        </label>
                        <div class="layui-input-inline">
                            <select name="filesave" lay-filter="aihao" id="filesave" class="layer-tips " placeholder="附件保存方式">
                                <option value="1" @(@Model.filesave == 1 ? "selected" : "")>按年月日每天一个目录</option>
                                <option value="2" @(@Model.filesave == 2 ? "selected" : "")>按年月/日/存入不同目录</option>
                            </select>

                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label for="fileextension" class="layui-form-label">
                            附件上传类型
                        </label>
                        <div class="layui-input-block">
                            <input type="text" id="fileextension" name="fileextension" placeholder="以英文的逗号分隔开，如：“jpg,gif,rar”"
                                   autocomplete="off" class="layui-input layer-tips" data-tips="1" value="@Model.fileextension">
                        </div>
                    </div>
                    <div class="layui-form-item">

                        <div class="layui-inline">
                            <label class="layui-form-label">文件上传大小</label>
                            <div class="layui-input-inline">
                                <input type="text" id="attachsize" name="attachsize" placeholder="KB超过设置的文件大小不予上传，0不限制"
                                       autocomplete="off" class="layui-input layer-tips" value="@Model.attachsize">
                            </div>
                        </div>
                        <div class="layui-inline">
                            <label class="layui-form-label">图片上传大小</label>
                            <div class="layui-input-inline">
                                <input type="text" id="imgsize" name="imgsize" placeholder="KB超过设置的图片大小不予上传，0不限制"
                                       autocomplete="off" class="layui-input layer-tips" value="@Model.imgsize">
                            </div>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <div class="layui-inline">
                            <label class="layui-form-label">图片最大宽</label>
                            <div class="layui-input-inline">
                                <input type="text" id="imgmaxwidth" name="imgmaxwidth" placeholder="px=像素"
                                       autocomplete="off" class="layui-input layer-tips" value="@Model.imgmaxwidth">
                            </div>
                        </div>
                        <div class="layui-inline">
                            <label class="layui-form-label">图片最大高</label>
                            <div class="layui-input-inline">
                                <input type="text" id="imgmaxheight" name="imgmaxheight" placeholder="px=像素"
                                       autocomplete="off" class="layui-input layer-tips" value="@Model.imgmaxheight">
                            </div>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <div class="layui-inline">
                            <label class="layui-form-label">缩略图最大宽</label>
                            <div class="layui-input-inline">
                                <input type="text" id="thumbnailwidth" name="thumbnailwidth" placeholder="缩略图最大宽"
                                       autocomplete="off" class="layui-input layer-tips" value="@Model.thumbnailwidth">
                            </div>
                        </div>
                        <div class="layui-inline">
                            <label class="layui-form-label">缩略图最大高</label>
                            <div class="layui-input-inline">
                                <input type="text" id="thumbnailheight" name="thumbnailheight" placeholder="缩略图最大高"
                                       autocomplete="off" class="layui-input layer-tips" value="@Model.thumbnailheight">
                            </div>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label for="watermarktype" class="layui-form-label">
                            图片水印类型
                        </label>
                        <div class="layui-input-block">
                            <input type="radio" id="watermarktype" name="watermarktype" value="0" title="关闭水印" @(Model.watermarktype == 0 ? "checked" : "")>
                            <input type="radio" id="watermarktype" name="watermarktype" value="1" title="文字水印" @(Model.watermarktype == 1 ? "checked" : "")>
                            <input type="radio" id="watermarktype" name="watermarktype" value="2" title="图片水印" @(Model.watermarktype == 2 ? "checked" : "")>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label for="watermarkposition" class="layui-form-label">
                            图片水印位置
                        </label>
                        <div class="layui-input-block">
                            <input id="watermarkposition" name="watermarkposition" title="不使用" type="radio" value="0" @(Model.watermarkposition == 0 ? "checked" : "")>
                            <input id="watermarkposition" name="watermarkposition" title="左上" type="radio" value="1" @(Model.watermarkposition == 1 ? "checked" : "")>
                            <input id="watermarkposition" name="watermarkposition" title="中上" type="radio" value="2" @(Model.watermarkposition == 2 ? "checked" : "")>
                            <input id="watermarkposition" name="watermarkposition" title="右上" type="radio" value="3" @(Model.watermarkposition == 3 ? "checked" : "")>
                            <input id="watermarkposition" name="watermarkposition" title="左中" type="radio" value="4" @(Model.watermarkposition == 4 ? "checked" : "")>
                            <input id="watermarkposition" name="watermarkposition" title="居中" type="radio" value="5" @(Model.watermarkposition == 5 ? "checked" : "")>
                            <input id="watermarkposition" name="watermarkposition" title="右中" type="radio" value="6" @(Model.watermarkposition == 6 ? "checked" : "")>
                            <input id="watermarkposition" name="watermarkposition" title="左下" type="radio" value="7" @(Model.watermarkposition == 7 ? "checked" : "")>
                            <input id="watermarkposition" name="watermarkposition" title="中下" type="radio" value="8" @(Model.watermarkposition == 8 ? "checked" : "")>
                            <input id="watermarkposition" name="watermarkposition" title="右下" type="radio" value="9" @(Model.watermarkposition == 9 ? "checked" : "")>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label for="watermarkimgquality" class="layui-form-label">
                            图片生成质量
                        </label>
                        <div class="layui-input-inline">
                            <input type="text" id="watermarkimgquality" name="watermarkimgquality" placeholder="只适用于加水印的jpeg格式图片.取值范围 0-100, 0质量最低, 100质量最高, 默认80"
                                   autocomplete="off" class="layui-input layer-tips" value="@Model.watermarkimgquality">
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label for="watermarkpic" class="layui-form-label">
                            图片水印文件
                        </label>
                        <div class="layui-input-inline">
                            <input type="text" id="watermarkpic" name="watermarkpic" placeholder="图片水印文件"
                                   autocomplete="off" class="layui-input layer-tips" value="@Model.watermarkpic">
                        </div>
                        <div class="layui-input-inline">
                            <button type="button" class="layui-btn select-img" id="test-upload-type1" data-text="watermarkpic"><i class="layui-icon"></i>上传文件</button>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label for="watermarktransparency" class="layui-form-label">
                            水印透明度
                        </label>
                        <div class="layui-input-inline">
                            <input type="text" id="watermarktransparency" name="watermarktransparency" placeholder="取值范围1--10 (10为不透明)"
                                   autocomplete="off" class="layui-input layer-tips" value="@Model.watermarktransparency">
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label for="watermarktext" class="layui-form-label">
                            水印文字
                        </label>
                        <div class="layui-input-inline">
                            <input type="text" id="watermarktext" name="watermarktext" placeholder="文字水印的内容"
                                   autocomplete="off" class="layui-input layer-tips" value="@Model.watermarktext">
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label for="watermarkfontsize" class="layui-form-label">
                            水印文字大小
                        </label>
                        <div class="layui-input-inline">
                            <input type="text" id="watermarkfontsize" name="watermarkfontsize" placeholder="px *文字水印的字体和大小"
                                   autocomplete="off" class="layui-input layer-tips" value="@Model.watermarkfontsize">
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label for="watermarkfont" class="layui-form-label">
                            水印文字字体
                        </label>
                        <div class="layui-input-inline">
                            <input type="hidden" name="watermarkfont_hid" id="watermarkfont_hid" value="@Model.watermarkfont" />
                            <select name="watermarkfont" id="watermarkfont">
                                <option value="微软雅黑">微软雅黑</option>
                                <option value="Arial">Arial</option>
                                <option value="Arial Black">Arial Black</option>
                                <option value="Batang">Batang</option>
                                <option value="BatangChe">BatangChe</option>
                                <option value="Comic Sans MS">Comic Sans MS</option>
                                <option value="Courier New">Courier New</option>
                                <option value="Dotum">Dotum</option>
                                <option value="DotumChe">DotumChe</option>
                                <option value="Estrangelo Edessa">Estrangelo Edessa</option>
                                <option value="Franklin Gothic Medium">Franklin Gothic Medium</option>
                                <option value="Gautami">Gautami</option>
                                <option value="Georgia">Georgia</option>
                                <option value="Gulim">Gulim</option>
                                <option value="GulimChe">GulimChe</option>
                                <option value="Gungsuh">Gungsuh</option>
                                <option value="GungsuhChe">GungsuhChe</option>
                                <option value="Impact">Impact</option>
                                <option value="Latha">Latha</option>
                                <option value="Lucida Console">Lucida Console</option>
                                <option value="Lucida Sans Unicode">Lucida Sans Unicode</option>
                                <option value="Mangal">Mangal</option>
                                <option value="Marlett">Marlett</option>
                                <option value="Microsoft Sans Serif">Microsoft Sans Serif</option>
                                <option value="MingLiU">MingLiU</option>
                                <option value="MS Gothic">MS Gothic</option>
                                <option value="MS Mincho">MS Mincho</option>
                                <option value="MS PGothic">MS PGothic</option>
                                <option value="MS PMincho">MS PMincho</option>
                                <option value="MS UI Gothic">MS UI Gothic</option>
                                <option value="MV Boli">MV Boli</option>
                                <option value="Palatino Linotype">Palatino Linotype</option>
                                <option value="PMingLiU">PMingLiU</option>
                                <option value="Raavi">Raavi</option>
                                <option value="Shruti">Shruti</option>
                                <option value="Sylfaen">Sylfaen</option>
                                <option value="Symbol">Symbol</option>
                                <option value="Tahoma">Tahoma</option>
                                <option value="Times New Roman">Times New Roman</option>
                                <option value="Trebuchet MS">Trebuchet MS</option>
                                <option value="Tunga">Tunga</option>
                                <option value="Verdana">Verdana</option>
                                <option value="Webdings">Webdings</option>
                                <option value="Wingdings">Wingdings</option>
                                <option value="仿宋_GB2312">仿宋_GB2312</option>
                                <option value="宋体">宋体</option>
                                <option value="新宋体">新宋体</option>
                                <option value="楷体_GB2312">楷体_GB2312</option>
                                <option value="黑体">黑体</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="layui-tab-item">
                    <div class="layui-form-item">
                        <label for="smsapiurl" class="layui-form-label">
                            短信API地址
                        </label>
                        <div class="layui-input-inline">
                            <input type="text" id="smsapiurl" name="smsapiurl" placeholder="平台短信API地址"
                                   autocomplete="off" class="layui-input layer-tips" value="@Model.smsapiurl">
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label for="smsusername" class="layui-form-label">
                            登录账户名
                        </label>
                        <div class="layui-input-inline">
                            <input type="text" id="smsusername" name="smsusername" placeholder="平台登录账户名"
                                   autocomplete="off" class="layui-input layer-tips" value="@Model.smsusername">
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label for="smspassword" class="layui-form-label">
                            登录密码
                        </label>
                        <div class="layui-input-inline">
                            <input type="text" id="smspassword" name="smspassword" placeholder="平台登录密码，不填则不修改"
                                   autocomplete="off" class="layui-input layer-tips" value="">
                        </div>
                    </div>


                </div>
            </div>
        </div>
        <div class="layui-form-item">
            <label for="L_repass" class="layui-form-label" style="padding-right: 26px;">
            </label>
            <button class="layui-btn" lay-filter="add" lay-submit="">
                保存
            </button>
        </div>
    </form>
</div>
<script>
    layui.use(['form', 'layer'], function () {
        $ = layui.jquery;
        var form = layui.form
            , layer = layui.layer;
        $("#watermarkfont").val($("#watermarkfont_hid").val());
        form.render('select');
        //监听提交
        form.on('submit(add)', function (data) {
            if (data.field.emailssl) {

                data.field.emailssl = true;
            } else {
                data.field.emailssl = false;
            }
            $.ajax({
                'type': 'post',
                'url': '/SysAdmin/SysBasic/Index',
                'data': data.field,
                //async: false,
                error: function (message) {
                    x_admin_msg("保存失败");
                    console.info(message)
                },
                success: function (data) {
                    console.info(data)
                    if (data.status == 200) {
                        x_admin_alert("保存成功", { icon: 6 }, function (iindex) {
                            x_admin_close_index(iindex)
                            window.location.reload();
                        });
                    } else {
                        x_admin_msg(data.msg);
                    }
                }
            });
            return false;
        });


    });
</script>